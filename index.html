<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FinzoTalk</title>

<!-- Firebase (UNCHANGED) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDKWlkEcCskaGVMU4BZbE1LMR6HlhkCnz8",
  authDomain: "stock-portfolio-web-final.firebaseapp.com",
  projectId: "stock-portfolio-web-final",
  storageBucket: "stock-portfolio-web-final.firebasestorage.app",
  messagingSenderId: "804419033716",
  appId: "1:804419033716:web:ad50c042cc663acb528f21"
};
firebase.initializeApp(firebaseConfig);
</script>

<style>
body{
  margin:0;
  font-family:Inter,system-ui;
  background:linear-gradient(135deg,#2563eb,#7c3aed);
  min-height:100vh;
}

/* LOGIN PAGE */
#loginBox{
  max-width:420px;
  margin:90px auto;
  background:#ffffff;
  padding:36px;
  border-radius:16px;
  box-shadow:0 20px 40px rgba(0,0,0,.15);
  text-align:center;
}

#loginBox h2{
  margin:0;
  font-size:28px;
  color:#1e293b;
}

.subtitle{
  margin:6px 0 26px;
  color:#64748b;
  font-size:14px;
}

#loginBox input{
  width:100%;
  padding:14px;
  margin-bottom:14px;
  border:1px solid #cbd5e1;
  border-radius:10px;
  font-size:15px;
}

#loginBox input:focus{
  outline:none;
  border-color:#2563eb;
}

.primary-btn{
  width:100%;
  padding:14px;
  background:#2563eb;
  color:#fff;
  border:none;
  border-radius:10px;
  font-size:15px;
  font-weight:600;
  cursor:pointer;
}

.primary-btn:hover{
  background:#1d4ed8;
}

.google-btn{
  width:100%;
  padding:14px;
  margin-top:12px;
  background:#f1f5f9;
  border:1px solid #cbd5e1;
  border-radius:10px;
  font-size:14px;
  cursor:pointer;
}

.divider{
  margin:20px 0;
  font-size:12px;
  color:#94a3b8;
}

.error-text{
  margin-top:12px;
  color:#dc2626;
  font-size:13px;
  min-height:16px;
}

/* APP (UNCHANGED) */
.nav{display:flex;gap:16px;align-items:center;padding:14px 20px;background:#fff;border-bottom:1px solid #e5e7eb}
.logo{font-size:22px;font-weight:700;color:#2563eb}
.tabs span{margin-right:14px;cursor:pointer}
.tabs span.active{color:#2563eb;border-bottom:2px solid #2563eb;padding-bottom:4px}
.search{flex:1}
.search input{width:100%;padding:10px;border:1px solid #cbd5e1;border-radius:8px}
.profile{cursor:pointer}
.dropdown{display:none;position:absolute;right:20px;top:60px;background:#fff;border:1px solid #e5e7eb;border-radius:10px;width:220px}
.dropdown div,.dropdown button{padding:12px}
.dropdown button{border:none;background:#ef4444;color:#fff;width:100%;cursor:pointer}

.content{padding:20px}
.card{background:#fff;border-radius:12px;padding:16px;margin-bottom:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}
.stock{border:1px solid #e5e7eb;border-radius:10px;padding:14px;cursor:pointer}

table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #e5e7eb;text-align:center}
.del{background:#ef4444;color:#fff;border:none;padding:6px 10px;border-radius:6px;cursor:pointer}

@media(max-width:768px){
  #loginBox{margin:40px 16px}
  .nav{flex-wrap:wrap}
  .search{width:100%}
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox">
  <h2>FinzoTalk</h2>
  <p class="subtitle">Track • Share • Grow</p>

  <input id="email" type="email" placeholder="Email address">
  <input id="password" type="password" placeholder="Password">

  <button class="primary-btn" onclick="loginEmail()">Login / Signup</button>

  <div class="divider">OR</div>

  <button class="google-btn" onclick="loginGoogle()">Continue with Google</button>

  <p id="loginError" class="error-text"></p>
</div>

<!-- APP -->
<div id="app" style="display:none">
  <!-- YOUR EXISTING APP CODE CONTINUES UNCHANGED -->
</div>

<script>
const auth = firebase.auth();

function loginGoogle(){
  auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
}

function loginEmail(){
  const e = email.value.trim();
  const p = password.value.trim();
  loginError.innerText = "";

  if(!e || !p){
    loginError.innerText = "Email and password required";
    return;
  }

  auth.signInWithEmailAndPassword(e,p)
    .catch(err=>{
      if(err.code === "auth/user-not-found"){
        loginError.innerText = "Email not registered";
      } 
      else if(err.code === "auth/wrong-password"){
        loginError.innerText = "Incorrect password";
      }
      else if(err.code === "auth/invalid-email"){
        loginError.innerText = "Enter a valid email address";
      }
      else {
        auth.createUserWithEmailAndPassword(e,p)
          .catch(er=>loginError.innerText = er.message);
      }
    });
}

auth.onAuthStateChanged(u=>{
  if(u){
    loginBox.style.display="none";
    app.style.display="block";
  }
});
</script>

</body>
</html>
